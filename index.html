<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Client Intake | Ad Pilot</title>
  <link rel="stylesheet" href="css/styles.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
  <div class="container">
    <header class="header">
      <div class="logo">
        <svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect width="40" height="40" rx="8" fill="#6366F1"/>
          <path d="M12 28L20 12L28 28H12Z" fill="white"/>
          <circle cx="20" cy="22" r="3" fill="#6366F1"/>
        </svg>
        <span>Ad Pilot</span>
      </div>
      <h1>Client Intake Form</h1>
      <p class="subtitle">Complete this form during or after your client meeting</p>
    </header>

    <form id="intakeForm" class="intake-form">
      <!-- Progress Indicator -->
      <div class="progress-bar">
        <div class="progress-fill" id="progressFill"></div>
      </div>
      <div class="progress-steps">
        <span class="step active" data-section="1">Business</span>
        <span class="step" data-section="2">Platforms</span>
        <span class="step" data-section="3">Portal</span>
        <span class="step" data-section="4">Docs</span>
        <span class="step" data-section="5">Assets</span>
        <span class="step" data-section="6">Avatars</span>
        <span class="step" data-section="7">Plan</span>
        <span class="step" data-section="8">Notes</span>
      </div>

      <!-- Section 1: Business Info -->
      <section class="form-section active" data-section="1">
        <div class="section-header">
          <span class="section-number">1</span>
          <h2>Business Information</h2>
        </div>

        <div class="form-group">
          <label for="businessName">Business Name <span class="required">*</span></label>
          <input type="text" id="businessName" name="businessName" required>
        </div>

        <div class="form-group">
          <label for="businessAddress">Business Address <span class="required">*</span></label>
          <input type="text" id="businessAddress" name="businessAddress" required>
        </div>

        <div class="form-group">
          <label for="businessPhone">Business Phone <span class="required">*</span></label>
          <input type="tel" id="businessPhone" name="businessPhone" required>
        </div>

        <div class="form-group">
          <label for="websiteUrl">Website URL</label>
          <input type="url" id="websiteUrl" name="websiteUrl" placeholder="https://example.com">
        </div>

        <div class="form-group">
          <label for="socialHandle">Desired Social Handle/URL</label>
          <input type="text" id="socialHandle" name="socialHandle" placeholder="@businessname">
        </div>

        <div class="form-group">
          <label for="industry">Industry <span class="required">*</span></label>
          <select id="industry" name="industry" required>
            <option value="">Select industry...</option>
            <option value="Auto Dealer">Auto Dealer</option>
            <option value="Restaurant">Restaurant</option>
            <option value="Retail">Retail</option>
            <option value="Service">Service</option>
            <option value="Other">Other</option>
          </select>
        </div>

        <div class="form-nav">
          <button type="button" class="btn btn-next" onclick="nextSection()">Next: Platforms</button>
        </div>
      </section>

      <!-- Section 2: Platforms -->
      <section class="form-section" data-section="2">
        <div class="section-header">
          <span class="section-number">2</span>
          <h2>Platform Setup</h2>
        </div>

        <div class="form-group">
          <label>Which platforms? <span class="required">*</span></label>
          <div class="checkbox-group" id="platformsGroup">
            <label class="checkbox-label">
              <input type="checkbox" name="platforms" value="Facebook/Instagram" onchange="togglePlatformStatus(this)">
              <span class="checkmark"></span>
              Facebook/Instagram
            </label>
            <label class="checkbox-label">
              <input type="checkbox" name="platforms" value="TikTok" onchange="togglePlatformStatus(this)">
              <span class="checkmark"></span>
              TikTok
            </label>
            <label class="checkbox-label">
              <input type="checkbox" name="platforms" value="YouTube" onchange="togglePlatformStatus(this)">
              <span class="checkmark"></span>
              YouTube
            </label>
            <label class="checkbox-label">
              <input type="checkbox" name="platforms" value="NextDoor" onchange="togglePlatformStatus(this)">
              <span class="checkmark"></span>
              NextDoor
            </label>
            <label class="checkbox-label">
              <input type="checkbox" name="platforms" value="Other" onchange="togglePlatformStatus(this)">
              <span class="checkmark"></span>
              Other
            </label>
          </div>
        </div>

        <div id="platformStatuses" class="platform-statuses"></div>

        <div class="status-legend">
          <div class="legend-item">
            <span class="status-dot green"></span>
            <span>Green = Has accounts, easy access</span>
          </div>
          <div class="legend-item">
            <span class="status-dot yellow"></span>
            <span>Yellow = Missing pieces, some setup needed</span>
          </div>
          <div class="legend-item">
            <span class="status-dot red"></span>
            <span>Red = Nothing, locked out, or agency hostage</span>
          </div>
        </div>

        <div class="form-group">
          <label for="platformEmail">Email for Platform Account Creation <span class="required">*</span></label>
          <input type="email" id="platformEmail" name="platformEmail" required>
        </div>

        <div class="form-group">
          <label for="platformNotes">Notes on Current Platform Situation</label>
          <textarea id="platformNotes" name="platformNotes" rows="4" placeholder="Describe current access, issues, or agency situations..."></textarea>
        </div>

        <div class="form-nav">
          <button type="button" class="btn btn-prev" onclick="prevSection()">Back</button>
          <button type="button" class="btn btn-next" onclick="nextSection()">Next: Portal Access</button>
        </div>
      </section>

      <!-- Section 3: Portal Access -->
      <section class="form-section" data-section="3">
        <div class="section-header">
          <span class="section-number">3</span>
          <h2>Portal Access</h2>
        </div>

        <div class="form-group">
          <label for="primaryContactName">Primary Contact Name <span class="required">*</span></label>
          <input type="text" id="primaryContactName" name="primaryContactName" required>
        </div>

        <div class="form-group">
          <label for="primaryContactEmail">Primary Contact Email <span class="required">*</span></label>
          <input type="email" id="primaryContactEmail" name="primaryContactEmail" required>
        </div>

        <div class="form-group">
          <label for="primaryContactPhone">Primary Contact Phone</label>
          <input type="tel" id="primaryContactPhone" name="primaryContactPhone">
        </div>

        <div class="form-group">
          <label>Additional Portal Users</label>
          <div id="additionalUsers" class="repeatable-group">
            <!-- Dynamic entries added here -->
          </div>
          <button type="button" class="btn btn-add" onclick="addPortalUser()">
            <svg width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M8 3v10M3 8h10" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
            Add User
          </button>
        </div>

        <div class="form-nav">
          <button type="button" class="btn btn-prev" onclick="prevSection()">Back</button>
          <button type="button" class="btn btn-next" onclick="nextSection()">Next: Verification Docs</button>
        </div>
      </section>

      <!-- Section 4: Verification Docs -->
      <section class="form-section" data-section="4">
        <div class="section-header">
          <span class="section-number">4</span>
          <h2>Verification Documents</h2>
        </div>

        <div class="form-group">
          <label for="businessLicense">Business License <span class="file-hint">(Image or PDF)</span></label>
          <div class="file-upload" id="businessLicenseUpload">
            <input type="file" id="businessLicense" name="businessLicense" accept="image/*,.pdf" onchange="handleFileUpload(this, 'businessLicenseUpload')">
            <div class="file-upload-content">
              <svg width="32" height="32" viewBox="0 0 32 32" fill="none"><path d="M16 4v16M10 14l6 6 6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M4 24v2a2 2 0 002 2h20a2 2 0 002-2v-2" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
              <span>Click to upload or drag & drop</span>
            </div>
            <div class="file-preview"></div>
          </div>
        </div>

        <div class="form-group">
          <label for="ownerName">Owner Name (as shown on ID) <span class="required">*</span></label>
          <input type="text" id="ownerName" name="ownerName" required>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label for="ownerIdFront">Owner ID - Front <span class="file-hint">(Image)</span></label>
            <div class="file-upload" id="ownerIdFrontUpload">
              <input type="file" id="ownerIdFront" name="ownerIdFront" accept="image/*" onchange="handleFileUpload(this, 'ownerIdFrontUpload')">
              <div class="file-upload-content">
                <svg width="32" height="32" viewBox="0 0 32 32" fill="none"><path d="M16 4v16M10 14l6 6 6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M4 24v2a2 2 0 002 2h20a2 2 0 002-2v-2" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
                <span>ID Front</span>
              </div>
              <div class="file-preview"></div>
            </div>
          </div>

          <div class="form-group">
            <label for="ownerIdBack">Owner ID - Back <span class="file-hint">(Image)</span></label>
            <div class="file-upload" id="ownerIdBackUpload">
              <input type="file" id="ownerIdBack" name="ownerIdBack" accept="image/*" onchange="handleFileUpload(this, 'ownerIdBackUpload')">
              <div class="file-upload-content">
                <svg width="32" height="32" viewBox="0 0 32 32" fill="none"><path d="M16 4v16M10 14l6 6 6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M4 24v2a2 2 0 002 2h20a2 2 0 002-2v-2" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
                <span>ID Back</span>
              </div>
              <div class="file-preview"></div>
            </div>
          </div>
        </div>

        <div class="form-nav">
          <button type="button" class="btn btn-prev" onclick="prevSection()">Back</button>
          <button type="button" class="btn btn-next" onclick="nextSection()">Next: Brand Assets</button>
        </div>
      </section>

      <!-- Section 5: Brand Assets -->
      <section class="form-section" data-section="5">
        <div class="section-header">
          <span class="section-number">5</span>
          <h2>Brand Assets</h2>
        </div>

        <div class="form-group">
          <label for="logo">Logo <span class="file-hint">(PNG preferred)</span></label>
          <div class="file-upload" id="logoUpload">
            <input type="file" id="logo" name="logo" accept="image/*" onchange="handleFileUpload(this, 'logoUpload')">
            <div class="file-upload-content">
              <svg width="32" height="32" viewBox="0 0 32 32" fill="none"><path d="M16 4v16M10 14l6 6 6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M4 24v2a2 2 0 002 2h20a2 2 0 002-2v-2" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
              <span>Upload logo</span>
            </div>
            <div class="file-preview"></div>
          </div>
        </div>

        <div class="form-group">
          <label for="brandColors">Brand Colors</label>
          <input type="text" id="brandColors" name="brandColors" placeholder='e.g., #FF5733, #333333 or "pull from website"'>
        </div>

        <div class="form-group">
          <label for="tagline">Tagline/Slogan</label>
          <input type="text" id="tagline" name="tagline" placeholder="Your catchy business tagline">
        </div>

        <div class="form-row">
          <div class="form-group">
            <label for="exteriorPhoto">Exterior Business Photo</label>
            <div class="file-upload" id="exteriorPhotoUpload">
              <input type="file" id="exteriorPhoto" name="exteriorPhoto" accept="image/*" onchange="handleFileUpload(this, 'exteriorPhotoUpload')">
              <div class="file-upload-content">
                <svg width="32" height="32" viewBox="0 0 32 32" fill="none"><path d="M16 4v16M10 14l6 6 6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M4 24v2a2 2 0 002 2h20a2 2 0 002-2v-2" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
                <span>Exterior</span>
              </div>
              <div class="file-preview"></div>
            </div>
          </div>

          <div class="form-group">
            <label for="interiorPhoto">Interior Business Photo</label>
            <div class="file-upload" id="interiorPhotoUpload">
              <input type="file" id="interiorPhoto" name="interiorPhoto" accept="image/*" onchange="handleFileUpload(this, 'interiorPhotoUpload')">
              <div class="file-upload-content">
                <svg width="32" height="32" viewBox="0 0 32 32" fill="none"><path d="M16 4v16M10 14l6 6 6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M4 24v2a2 2 0 002 2h20a2 2 0 002-2v-2" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
                <span>Interior</span>
              </div>
              <div class="file-preview"></div>
            </div>
          </div>
        </div>

        <div class="form-group">
          <label for="otherPhotos">Other Photos <span class="file-hint">(Multiple allowed)</span></label>
          <div class="file-upload multi" id="otherPhotosUpload">
            <input type="file" id="otherPhotos" name="otherPhotos" accept="image/*" multiple onchange="handleMultiFileUpload(this, 'otherPhotosUpload')">
            <div class="file-upload-content">
              <svg width="32" height="32" viewBox="0 0 32 32" fill="none"><path d="M16 4v16M10 14l6 6 6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M4 24v2a2 2 0 002 2h20a2 2 0 002-2v-2" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
              <span>Upload multiple photos</span>
            </div>
            <div class="file-preview multi-preview"></div>
          </div>
        </div>

        <div class="form-nav">
          <button type="button" class="btn btn-prev" onclick="prevSection()">Back</button>
          <button type="button" class="btn btn-next" onclick="nextSection()">Next: Avatar People</button>
        </div>
      </section>

      <!-- Section 6: Avatar People -->
      <section class="form-section" data-section="6">
        <div class="section-header">
          <span class="section-number">6</span>
          <h2>Avatar People</h2>
        </div>
        <p class="section-description">Add people who will be featured in video ads (owners, managers, sales staff)</p>

        <div id="avatarPeople" class="repeatable-group">
          <!-- First avatar entry -->
          <div class="repeatable-entry avatar-entry" data-index="0">
            <div class="entry-header">
              <span class="entry-title">Person 1</span>
              <button type="button" class="btn-remove" onclick="removeAvatarPerson(this)" style="display:none;">Remove</button>
            </div>
            <div class="form-row">
              <div class="form-group">
                <label>Name</label>
                <input type="text" name="avatarName_0">
              </div>
              <div class="form-group">
                <label>Email</label>
                <input type="email" name="avatarEmail_0">
              </div>
            </div>
            <div class="form-row">
              <div class="form-group">
                <label>Role/Title</label>
                <input type="text" name="avatarRole_0" placeholder="e.g., Owner, Sales Manager">
              </div>
              <div class="form-group checkbox-inline">
                <label class="checkbox-label">
                  <input type="checkbox" name="avatarPrimary_0">
                  <span class="checkmark"></span>
                  Primary contact for avatar recordings
                </label>
              </div>
            </div>
          </div>
        </div>
        <button type="button" class="btn btn-add" onclick="addAvatarPerson()">
          <svg width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M8 3v10M3 8h10" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
          Add Another Person
        </button>

        <div class="form-nav">
          <button type="button" class="btn btn-prev" onclick="prevSection()">Back</button>
          <button type="button" class="btn btn-next" onclick="nextSection()">Next: Plan & Pricing</button>
        </div>
      </section>

      <!-- Section 7: Plan & Pricing -->
      <section class="form-section" data-section="7">
        <div class="section-header">
          <span class="section-number">7</span>
          <h2>Plan & Pricing</h2>
        </div>

        <div class="form-group">
          <label for="selectedPlan">Selected Plan <span class="required">*</span></label>
          <select id="selectedPlan" name="selectedPlan" required onchange="calculateOnboardingTotal()">
            <option value="">Select a plan...</option>
            <option value="Starter $1,500/mo">Starter - $1,500/mo</option>
            <option value="Growth $2,500/mo">Growth - $2,500/mo</option>
            <option value="Pro $4,000/mo">Pro - $4,000/mo</option>
          </select>
        </div>

        <div class="form-group">
          <label>Add-on Templates Interested In</label>
          <div class="checkbox-group">
            <label class="checkbox-label">
              <input type="checkbox" name="addons" value="Deep Dive">
              <span class="checkmark"></span>
              Deep Dive
            </label>
            <label class="checkbox-label">
              <input type="checkbox" name="addons" value="Testimonial">
              <span class="checkmark"></span>
              Testimonial
            </label>
            <label class="checkbox-label">
              <input type="checkbox" name="addons" value="Two-Person Banter">
              <span class="checkmark"></span>
              Two-Person Banter
            </label>
            <label class="checkbox-label">
              <input type="checkbox" name="addons" value="Seasonal">
              <span class="checkmark"></span>
              Seasonal
            </label>
            <label class="checkbox-label">
              <input type="checkbox" name="addons" value="Custom">
              <span class="checkmark"></span>
              Custom
            </label>
          </div>
        </div>

        <div class="form-group">
          <label for="onboardingComplexity">Onboarding Complexity <span class="required">*</span></label>
          <select id="onboardingComplexity" name="onboardingComplexity" required onchange="calculateOnboardingTotal()">
            <option value="">Select complexity...</option>
            <option value="Green" data-cost="100">Green - $100/platform</option>
            <option value="Yellow" data-cost="300">Yellow - $300/platform</option>
            <option value="Red" data-cost="500">Red - $500+/platform</option>
          </select>
        </div>

        <div class="form-group">
          <label for="onboardingTotal">Estimated Onboarding Total</label>
          <div class="calculated-field">
            <span id="calculatedTotal">$0</span>
            <input type="hidden" id="onboardingTotal" name="onboardingTotal" value="0">
            <span class="calc-note">Auto-calculated based on platforms and complexity</span>
          </div>
        </div>

        <div class="form-nav">
          <button type="button" class="btn btn-prev" onclick="prevSection()">Back</button>
          <button type="button" class="btn btn-next" onclick="nextSection()">Next: Notes</button>
        </div>
      </section>

      <!-- Section 8: Eric's Notes -->
      <section class="form-section" data-section="8">
        <div class="section-header">
          <span class="section-number">8</span>
          <h2>Eric's Notes</h2>
        </div>

        <div class="form-group">
          <label for="meetingNotes">Meeting Notes</label>
          <textarea id="meetingNotes" name="meetingNotes" rows="5" placeholder="Key points from the meeting..."></textarea>
        </div>

        <div class="form-group">
          <label for="followUpItems">Follow-up Items</label>
          <textarea id="followUpItems" name="followUpItems" rows="4" placeholder="Action items and next steps..."></textarea>
        </div>

        <div class="form-group">
          <label for="redFlags">Red Flags or Concerns</label>
          <textarea id="redFlags" name="redFlags" rows="4" placeholder="Any concerns or issues to watch for..."></textarea>
        </div>

        <div class="form-nav">
          <button type="button" class="btn btn-prev" onclick="prevSection()">Back</button>
          <button type="submit" class="btn btn-submit" id="submitBtn">
            <span class="btn-text">Submit Intake Form</span>
            <span class="btn-loading" style="display:none;">
              <svg class="spinner" width="20" height="20" viewBox="0 0 20 20"><circle cx="10" cy="10" r="8" stroke="currentColor" stroke-width="2" fill="none" stroke-dasharray="40" stroke-dashoffset="10"/></svg>
              Submitting...
            </span>
          </button>
        </div>
      </section>
    </form>

    <!-- Success Modal -->
    <div class="modal" id="successModal">
      <div class="modal-content">
        <div class="modal-icon success">
          <svg width="48" height="48" viewBox="0 0 48 48" fill="none"><circle cx="24" cy="24" r="22" stroke="#10B981" stroke-width="4"/><path d="M14 24l7 7 13-13" stroke="#10B981" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/></svg>
        </div>
        <h3>Intake Submitted Successfully!</h3>
        <p>Client ID: <strong id="clientIdDisplay">ADP-001</strong></p>
        <p>A confirmation has been sent and the onboarding process will begin shortly.</p>
        <button class="btn btn-primary" onclick="resetForm()">Submit Another</button>
      </div>
    </div>
  </div>

  <script src="js/app.js"></script>
</body>
</html>
